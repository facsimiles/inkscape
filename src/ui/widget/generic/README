
# Generic widgets for Gtk4

This directory contains code for creating custom Inkscape specific widgets using the Gtkmm / Gtk4 libraries.

A general rule of thumb is that if you can see this widget being dropped into some other Gtk application without
having to pull out notions or connections to SVG, and Inkscape then it's a generic widget.

# Rules for Widgets in this Directory

## Widget MUST NOT implement

Widgets are expected to be generic and not have specific implementation for data and structure from other parts of the project codebase:

  * The same functionality as another widget in this directory
  * String parsing, such as converting from string to numbers
  * File opening, such as opening a palette file
  * Format decoding, such as splitting strings into lists
  * Attributes, such as setting or getting SPObject attributes
  * Properties, such as setting or getting SVG CSS Styles

## Widget MUST implement

All widgets should be usable via Gtk Builder, and use well understood mechanisms to communicate and be in a Gtkmm style:

 * Implement GtkBuilder constructors
 * Use a initaliser so they can be used in ui xml files
 * Add properties where needed so they can be used
 * Report changes using signals with non-Gtk/Gdk values
 * Have setters and getters for their data using non-Gtk/Gdk values

## Final Glib class

Because of how Gtk works, if you inherit from Glib or CssNameClassInit, or implement an interface like Gtk::Orientable then your class must be marked as `final` to avoid broken widget classes.

## Mixing Widgets

 * All sub-widgets should come from this directory OR Gtkmm NOT from parent directories.
 * All sub-widgets should be deconstructed by regular Gtkmm referencing (destroyed when unparented for example)


